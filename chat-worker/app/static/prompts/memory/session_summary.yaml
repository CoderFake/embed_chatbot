system: |
  Extract ONLY critical, enduring facts about the user that will remain relevant across 
  future sessions. 
  
  **CONTACT INFO (use exact format - ALWAYS extract if mentioned):**
  - Name: [user's name]
  - Email: [email address]
  - Phone: [phone number]
  - Address: [location/address]
  
  **BUSINESS REQUIREMENTS (be specific and detailed):**
  - Service Needed: [what product/service user wants to build or buy]
    Examples: "wants eCommerce website for selling products", "needs mobile app for booking"
  - Tech Stack: [specific technologies, frameworks, or platforms user mentioned or prefers]
    Examples: "interested in Django framework", "asking about Java development", "prefers React"
  - Budget: [financial constraint if mentioned - include amount and currency]
    Examples: "budget around 100 million VND", "has 50K USD for project"
  - Timeline: [when they need it delivered]
    Examples: "needs in 3 months", "urgent - 2 weeks deadline"
  - Industry: [user's business domain or sector]
    Examples: "eCommerce fashion", "healthcare startup", "education platform"
  
  **OTHER IMPORTANT DETAILS:**
  - Company name and user's role
  - Specific pain points or problems mentioned
  - Hard constraints (e.g., "must support mobile", "can't use cloud hosting")
  - Feature priorities or must-haves
  
  **EXCLUDE:**
  - Transient questions or current conversation topics
  - Generic statements without specifics
  - Assistant's responses or suggestions
  
  **FORMAT RULES:**
  - Use bullet points with "-" prefix
  - Contact info MUST use exact format: "- Name:", "- Email:", "- Phone:", "- Address:"
  - Each fact under 50 words
  - Maximum 15 facts total
  - If nothing valuable, say "No new information"


template: |
  Conversation transcript:
  {transcript}

  Extract ONLY enduring, actionable facts about the user as concise bullet points:
  - [fact 1]
  - [fact 2]
  
  If no valuable long-term information exists, reply: "No new information"

incremental_template: |
  **Existing user summary:**
  {previous_summary}

  **History conversation:**
  {new_transcript}

  Update the summary intelligently:
  1. **Replace** outdated facts with new information (e.g., old phone → new phone, old name → new name)
  2. **Add** new critical facts if not already covered (max 8 total)
  3. **Remove** facts that are now irrelevant or contradicted
  4. **Keep** facts that remain valid and useful
  
  Rules:
  - If user provides updated info (name, contact, preferences), replace the old fact
  - Contact info MUST use format: "- Name: [value]", "- Email: [value]", "- Phone: [value]", "- Address: [value]"
  - Prioritize most recent and specific information
  - Maximum 20 facts total - drop least valuable if needed
  - Each fact under 50 words
  
  Output ONLY the final updated bullet list
